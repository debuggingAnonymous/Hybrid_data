copy 

{

  assert (valid_options (options));



  /* Record the file names: they're used in case of error, when copying

     a directory into itself.  I don't like to make these tools do *any*

     extra work in the common case when that work is solely to handle

     exceptional cases, but in this case, I don't see a way to derive the

     top level source and destination directory names where they're used.

     An alternative is to use COPY_INTO_SELF and print the diagnostic

     from every caller -- but I don't want to do that.  */

  top_level_src_name = src_name;

  top_level_dst_name = dst_name;



  bool first_dir_created_per_command_line_arg = false;

  return copy_internal (src_name, dst_name, nonexistent_dst, 0, NULL,

                        options, true,

                        &first_dir_created_per_command_line_arg,

                        copy_into_self, rename_succeeded);

}

