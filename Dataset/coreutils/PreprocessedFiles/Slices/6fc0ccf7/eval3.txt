eval3 

{

  VALUE *l;

  VALUE *r;

  enum { plus, minus } fxn;

  intmax_t val = 0;



#ifdef EVAL_TRACE

  trace ("eval3");

#endif

  l = eval4 (evaluate);

  while (1)

    {

      if (nextarg ("+"))

	fxn = plus;

      else if (nextarg ("-"))

	fxn = minus;

      else

	return l;

      r = eval4 (evaluate);

      if (evaluate)

	{

	  if (!toarith (l) || !toarith (r))

	    error (EXPR_FAILURE, 0, _("non-numeric argument"));

	  val = fxn == plus ? l->u.i + r->u.i : l->u.i - r->u.i;

	}

      freev (l);

      freev (r);

      l = int_value (val);

    }

}

